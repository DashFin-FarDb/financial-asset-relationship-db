<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="test__sample__data_8py" kind="file" language="Python">
    <compoundname>test_sample_data.py</compoundname>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation" prot="public">tests::unit::test_sample_data::TestSampleDatabaseCreation</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties" prot="public">tests::unit::test_sample_data::TestSampleAssetProperties</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships" prot="public">tests::unit::test_sample_data::TestSampleRelationships</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents" prot="public">tests::unit::test_sample_data::TestSampleRegulatoryEvents</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency" prot="public">tests::unit::test_sample_data::TestSampleDataConsistency</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics" prot="public">tests::unit::test_sample_data::TestSampleDatabaseMetrics</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility" prot="public">tests::unit::test_sample_data::TestSampleDataReproducibility</innerclass>
    <innerclass refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases" prot="public">tests::unit::test_sample_data::TestEdgeCases</innerclass>
    <innernamespace refid="namespacetests">tests</innernamespace>
    <innernamespace refid="namespacetests_1_1unit">tests::unit</innernamespace>
    <innernamespace refid="namespacetests_1_1unit_1_1test__sample__data">tests::unit::test_sample_data</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacetests_1_1unit_1_1test__sample__data" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;Unit<sp/>tests<sp/>for<sp/>sample<sp/>data<sp/>generation.</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">This<sp/>module<sp/>contains<sp/>comprehensive<sp/>unit<sp/>tests<sp/>for<sp/>sample<sp/>data<sp/>generation<sp/>including:</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral">-<sp/>Sample<sp/>database<sp/>creation</highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral">-<sp/>Asset<sp/>diversity<sp/>across<sp/>all<sp/>asset<sp/>classes</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral">-<sp/>Relationship<sp/>establishment</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral">-<sp/>Regulatory<sp/>event<sp/>generation</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">-<sp/>Data<sp/>consistency<sp/>and<sp/>completeness</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>src.data.sample_data<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>create_sample_database</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>src.models.financial_models<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>AssetClass,<sp/>Bond,<sp/>Commodity,<sp/>Currency,<sp/>Equity</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation" kindref="compound">TestSampleDatabaseCreation</ref>:</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>database<sp/>creation.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ab4aa8bc1fc2590b66ff7c6b8ce268e3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ab4aa8bc1fc2590b66ff7c6b8ce268e3e" kindref="member">test_create_sample_database_returns_graph</ref>():</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>create_sample_database<sp/>returns<sp/>an<sp/>AssetRelationshipGraph.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>graph<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(graph,<sp/></highlight><highlight class="stringliteral">&quot;assets&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(graph,<sp/></highlight><highlight class="stringliteral">&quot;relationships&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ac7144c3cb26fa8f31ef4632d8ec2cfbc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ac7144c3cb26fa8f31ef4632d8ec2cfbc" kindref="member">test_sample_database_has_multiple_assets</ref>():</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>contains<sp/>multiple<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(graph.assets)<sp/>&gt;=<sp/>15,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>have<sp/>15+<sp/>assets&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a80c74522f77dde258d74779b1217f604" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a80c74522f77dde258d74779b1217f604" kindref="member">test_sample_database_has_all_asset_classes</ref>():</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>all<sp/>asset<sp/>classes.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asset_classes<sp/>=<sp/>set()</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values():</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asset_classes.add(asset.asset_class)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>AssetClass.EQUITY<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>asset_classes</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>AssetClass.FIXED_INCOME<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>asset_classes</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>AssetClass.COMMODITY<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>asset_classes</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>AssetClass.CURRENCY<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>asset_classes</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ac23e99a0bd6f429b45795e9df9b87f2e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1ac23e99a0bd6f429b45795e9df9b87f2e" kindref="member">test_sample_database_has_technology_equities</ref>():</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>technology<sp/>equities.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tech_equities<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Equity)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>asset.sector<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Technology&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(tech_equities)<sp/>&gt;=<sp/>3,<sp/></highlight><highlight class="stringliteral">&quot;Should<sp/>have<sp/>multiple<sp/>technology<sp/>companies&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a91146eb2392afb3912a92a38812173ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a91146eb2392afb3912a92a38812173ad" kindref="member">test_sample_database_has_bonds</ref>():</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>bond<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bonds<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Bond)]</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(bonds)<sp/>&gt;<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>include<sp/>bonds&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1aaad9eea771abb4c8c48fada939cbc846" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1aaad9eea771abb4c8c48fada939cbc846" kindref="member">test_sample_database_has_commodities</ref>():</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>commodity<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commodities<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Commodity)]</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(commodities)<sp/>&gt;<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>include<sp/>commodities&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a4890d5442eb29f49f229c9174174c9e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseCreation_1a4890d5442eb29f49f229c9174174c9e8" kindref="member">test_sample_database_has_currencies</ref>():</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>currency<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currencies<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Currency)]</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(currencies)<sp/>&gt;<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>include<sp/>currencies&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties" kindref="compound">TestSampleAssetProperties</ref>:</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>asset<sp/>properties.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a5e5f2bc2c7877980877925aac8f91c32" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a5e5f2bc2c7877980877925aac8f91c32" kindref="member">test_equity_assets_have_valid_prices</ref>():</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>equity<sp/>assets<sp/>have<sp/>positive<sp/>prices.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>equities<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Equity)]</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>equity<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>equities:</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>equity.price<sp/>&gt;<sp/>0,<sp/>f</highlight><highlight class="stringliteral">&quot;Equity<sp/>{equity.id}<sp/>should<sp/>have<sp/>positive<sp/>price&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a9c00f1295e23ba80351a08d182d2056f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a9c00f1295e23ba80351a08d182d2056f" kindref="member">test_equity_assets_have_valid_market_cap</ref>():</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>equity<sp/>assets<sp/>have<sp/>valid<sp/>market<sp/>capitalization.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>equities<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Equity)]</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>equity<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>equities:</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>equity.market_cap<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>equity.market_cap<sp/>&gt;<sp/>0,<sp/>f</highlight><highlight class="stringliteral">&quot;Equity<sp/>{equity.id}<sp/>should<sp/>have<sp/>positive<sp/>market<sp/>cap&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a116ddad8007e86b3245931a8ad381462" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a116ddad8007e86b3245931a8ad381462" kindref="member">test_equity_assets_have_sectors</ref>():</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>equity<sp/>assets<sp/>have<sp/>sector<sp/>assignments.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>equities<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Equity)]</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>equity<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>equities:</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>equity.sector,<sp/>f</highlight><highlight class="stringliteral">&quot;Equity<sp/>{equity.id}<sp/>should<sp/>have<sp/>a<sp/>sector&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(equity.sector)<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1aef2fb132c0413116e90d19e02b0a6886" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1aef2fb132c0413116e90d19e02b0a6886" kindref="member">test_bond_assets_have_yield</ref>():</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>bond<sp/>assets<sp/>have<sp/>yield<sp/>information.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bonds<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Bond)]</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bond<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>bonds:</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>bond.yield_to_maturity<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>f</highlight><highlight class="stringliteral">&quot;Bond<sp/>{bond.id}<sp/>should<sp/>have<sp/>YTM&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>bond.yield_to_maturity<sp/>&gt;=<sp/>0</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1ae7f815a567ccd60dba7bba26b0c160a3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1ae7f815a567ccd60dba7bba26b0c160a3" kindref="member">test_bond_assets_have_credit_ratings</ref>():</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>bond<sp/>assets<sp/>have<sp/>credit<sp/>ratings.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bonds<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Bond)]</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bond<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>bonds:</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bond.credit_rating:</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>bond.credit_rating<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>[</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;AAA&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;AA&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;A&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;BBB&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;BB&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;B&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>],<sp/>f</highlight><highlight class="stringliteral">&quot;Bond<sp/>{bond.id}<sp/>should<sp/>have<sp/>valid<sp/>credit<sp/>rating&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a29043620c58bc3b859c3cd7aa9a83c26" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1a29043620c58bc3b859c3cd7aa9a83c26" kindref="member">test_commodity_assets_have_contract_info</ref>():</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>commodity<sp/>assets<sp/>have<sp/>contract<sp/>information.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commodities<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Commodity)]</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>commodity<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>commodities:</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>commodity.contract_size<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>commodity.delivery_date<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),<sp/>f</highlight><highlight class="stringliteral">&quot;Commodity<sp/>{commodity.id}<sp/>should<sp/>have<sp/>contract<sp/>information&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1aa9a68b933aab3760d61d72a8d24bbc4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleAssetProperties_1aa9a68b933aab3760d61d72a8d24bbc4d" kindref="member">test_currency_assets_have_exchange_rates</ref>():</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>currency<sp/>assets<sp/>have<sp/>exchange<sp/>rate<sp/>information.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currencies<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Currency)]</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>currency<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>currencies:</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>currency.exchange_rate<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>f</highlight><highlight class="stringliteral">&quot;Currency<sp/>{currency.id}<sp/>should<sp/>have<sp/>exchange<sp/>rate&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>currency.exchange_rate<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships" kindref="compound">TestSampleRelationships</ref>:</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>database<sp/>relationships.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1a53b4a27a70f3e758d5dfd07bb544b756" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1a53b4a27a70f3e758d5dfd07bb544b756" kindref="member">test_sample_database_has_relationships</ref>():</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>includes<sp/>relationships.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(graph.relationships)<sp/>&gt;<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>have<sp/>relationships&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1ae509d3779eb3003c36431c28ec5fda2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1ae509d3779eb3003c36431c28ec5fda2a" kindref="member">test_relationships_have_valid_strength</ref>():</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>all<sp/>relationships<sp/>have<sp/>valid<sp/>strength<sp/>values.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_source_id,<sp/>rels<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.relationships.items():</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_target_id,<sp/>_rel_type,<sp/>strength<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rels:</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>0<sp/>&lt;=<sp/>strength<sp/>&lt;=<sp/>1,<sp/>f</highlight><highlight class="stringliteral">&quot;Relationship<sp/>{_source_id}<sp/>-&gt;<sp/>{_target_id}<sp/>has<sp/>invalid<sp/>strength<sp/>{strength}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1afeeca30932d99d7e62382565f76bd128" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1afeeca30932d99d7e62382565f76bd128" kindref="member">test_same_sector_relationships_exist</ref>():</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>same-sector<sp/>relationships<sp/>are<sp/>established.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Look<sp/>for<sp/>same_sector<sp/>relationships</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>same_sector_found<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_source_id,<sp/>rels<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.relationships.items():</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_target_id,<sp/>rel_type,<sp/>_strength<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rels:</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rel_type<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;same_sector&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>same_sector_found<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>same_sector_found:</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>same_sector_found,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>have<sp/>same_sector<sp/>relationships&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1a46a2c0eeed79f6e69e20a3b744da5ea0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRelationships_1a46a2c0eeed79f6e69e20a3b744da5ea0" kindref="member">test_corporate_bond_relationships_exist</ref>():</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>corporate<sp/>bond<sp/>relationships<sp/>are<sp/>established.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Look<sp/>for<sp/>corporate_bond<sp/>relationships</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bond_rel_found<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_source_id,<sp/>rels<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.relationships.items():</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_target_id,<sp/>rel_type,<sp/>_strength<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rels:</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rel_type<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;corporate_bond&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bond_rel_found<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bond_rel_found:</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Bonds<sp/>may<sp/>not<sp/>always<sp/>be<sp/>in<sp/>sample<sp/>data,<sp/>so<sp/>this<sp/>is<sp/>optional</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Just<sp/>verify<sp/>the<sp/>structure<sp/>is<sp/>there<sp/>if<sp/>bonds<sp/>exist</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bonds<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Bond)]</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(bonds)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>bond_rel_found<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>len(bonds)<sp/>==<sp/>0,<sp/></highlight><highlight class="stringliteral">&quot;If<sp/>bonds<sp/>exist,<sp/>corporate_bond<sp/>relationships<sp/>should<sp/>be<sp/>present&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents" kindref="compound">TestSampleRegulatoryEvents</ref>:</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>regulatory<sp/>events.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1ab32b1aa16c895475587b997695428492" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1ab32b1aa16c895475587b997695428492" kindref="member">test_sample_database_may_have_regulatory_events</ref>():</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>can<sp/>contain<sp/>regulatory<sp/>events.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Events<sp/>are<sp/>optional<sp/>in<sp/>sample<sp/>data,<sp/>just<sp/>verify<sp/>the<sp/>structure</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(graph,<sp/></highlight><highlight class="stringliteral">&quot;regulatory_events&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1a6bff3b94e79af5f1012f749d82ce8088" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1a6bff3b94e79af5f1012f749d82ce8088" kindref="member">test_regulatory_events_have_valid_impact_scores</ref>():</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>regulatory<sp/>events<sp/>have<sp/>valid<sp/>impact<sp/>scores.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(graph.regulatory_events)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>event<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.regulatory_events:</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>-1<sp/>&lt;=<sp/>event.impact_score<sp/>&lt;=<sp/>1,<sp/>f</highlight><highlight class="stringliteral">&quot;Event<sp/>{event.id}<sp/>has<sp/>invalid<sp/>impact<sp/>score<sp/>{event.impact_score}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1a837ab351976e11d6478d4f61a54549c7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleRegulatoryEvents_1a837ab351976e11d6478d4f61a54549c7" kindref="member">test_regulatory_events_linked_to_assets</ref>():</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>regulatory<sp/>events<sp/>are<sp/>linked<sp/>to<sp/>existing<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(graph.regulatory_events)<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>event<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.regulatory_events:</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>event.asset_id<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>),<sp/>f</highlight><highlight class="stringliteral">&quot;Event<sp/>{event.id}<sp/>references<sp/>non-existent<sp/>asset<sp/>{event.asset_id}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency" kindref="compound">TestSampleDataConsistency</ref>:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>data<sp/>consistency<sp/>in<sp/>sample<sp/>database.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a290662059aa445e27b709ceb96f23b9b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a290662059aa445e27b709ceb96f23b9b" kindref="member">test_all_assets_have_unique_ids</ref>():</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>all<sp/>assets<sp/>have<sp/>unique<sp/>IDs.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ids<sp/>=<sp/>[asset.id<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()]</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(ids)<sp/>==<sp/>len(set(ids)),<sp/></highlight><highlight class="stringliteral">&quot;All<sp/>asset<sp/>IDs<sp/>should<sp/>be<sp/>unique&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a84ef22de82e05fb9c033b9455109e76d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a84ef22de82e05fb9c033b9455109e76d" kindref="member">test_all_assets_have_symbols</ref>():</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>all<sp/>assets<sp/>have<sp/>symbols.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values():</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>asset.symbol,<sp/>f</highlight><highlight class="stringliteral">&quot;Asset<sp/>{asset.id}<sp/>should<sp/>have<sp/>a<sp/>symbol&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(asset.symbol)<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a5ca699a826a7bcf5cf4a8b580c40e687" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1a5ca699a826a7bcf5cf4a8b580c40e687" kindref="member">test_all_assets_have_names</ref>():</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>all<sp/>assets<sp/>have<sp/>names.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values():</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>asset.name,<sp/>f</highlight><highlight class="stringliteral">&quot;Asset<sp/>{asset.id}<sp/>should<sp/>have<sp/>a<sp/>name&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(asset.name)<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1ac577b9e7ff6efc57ae9788a07394848a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1ac577b9e7ff6efc57ae9788a07394848a" kindref="member">test_relationship_targets_exist</ref>():</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>all<sp/>relationship<sp/>targets<sp/>reference<sp/>existing<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>source_id,<sp/>rels<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.relationships.items():</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>source_id<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets,<sp/>f</highlight><highlight class="stringliteral">&quot;Source<sp/>{source_id}<sp/>should<sp/>exist<sp/>in<sp/>assets&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>target_id,<sp/>_rel_type,<sp/>_strength<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rels:</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>target_id<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets,<sp/>f</highlight><highlight class="stringliteral">&quot;Target<sp/>{target_id}<sp/>in<sp/>relationship<sp/>should<sp/>exist<sp/>in<sp/>assets&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="298" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1ac8235048ab6f2ae70f964b258ad1619a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataConsistency_1ac8235048ab6f2ae70f964b258ad1619a" kindref="member">test_bond_issuer_references_valid_asset</ref>():</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>bond<sp/>issuers<sp/>reference<sp/>valid<sp/>assets<sp/>when<sp/>specified.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bonds<sp/>=<sp/>[asset<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(asset,<sp/>Bond)]</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>bond<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>bonds:</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>bond.issuer_id:</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>bond.issuer_id<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets,<sp/>f</highlight><highlight class="stringliteral">&quot;Bond<sp/>{bond.id}<sp/>issuer<sp/>{bond.issuer_id}<sp/>should<sp/>exist<sp/>in<sp/>assets&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics" kindref="compound">TestSampleDatabaseMetrics</ref>:</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>database<sp/>metrics.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="313" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1a3652ce345db3acaee26a19015711aebd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1a3652ce345db3acaee26a19015711aebd" kindref="member">test_sample_database_has_sufficient_density</ref>():</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>has<sp/>reasonable<sp/>relationship<sp/>density.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metrics<sp/>=<sp/>graph.calculate_metrics()</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Should<sp/>have<sp/>some<sp/>relationships</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>metrics[</highlight><highlight class="stringliteral">&quot;total_relationships&quot;</highlight><highlight class="normal">]<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>metrics[</highlight><highlight class="stringliteral">&quot;relationship_density&quot;</highlight><highlight class="normal">]<sp/>&gt;<sp/>0</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="324" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1af40d62e5591e52090d08a964431a04b3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1af40d62e5591e52090d08a964431a04b3" kindref="member">test_sample_database_metrics_structure</ref>():</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>metrics<sp/>have<sp/>expected<sp/>structure.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metrics<sp/>=<sp/>graph.calculate_metrics()</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;total_assets&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;total_relationships&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;average_relationship_strength&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;asset_class_distribution&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;relationship_distribution&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1a504ae20881b4e9064acade8ff5c83fd3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDatabaseMetrics_1a504ae20881b4e9064acade8ff5c83fd3" kindref="member">test_asset_class_distribution_matches_assets</ref>():</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>asset<sp/>class<sp/>distribution<sp/>matches<sp/>actual<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metrics<sp/>=<sp/>graph.calculate_metrics()</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Count<sp/>actual<sp/>assets<sp/>by<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_counts<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values():</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>class_name<sp/>=<sp/>asset.asset_class.value</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual_counts[class_name]<sp/>=<sp/>actual_counts.get(class_name,<sp/>0)<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Compare<sp/>with<sp/>metrics</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset_class,<sp/>count<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>metrics[</highlight><highlight class="stringliteral">&quot;asset_class_distribution&quot;</highlight><highlight class="normal">].items():</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>actual_counts.get(asset_class,<sp/>0)<sp/>==<sp/>count</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility" kindref="compound">TestSampleDataReproducibility</ref>:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>cases<sp/>for<sp/>sample<sp/>data<sp/>reproducibility.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility_1a04c168f10882ac45fea418b4538a42eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility_1a04c168f10882ac45fea418b4538a42eb" kindref="member">test_multiple_calls_produce_consistent_asset_count</ref>():</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>multiple<sp/>calls<sp/>produce<sp/>same<sp/>number<sp/>of<sp/>assets.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph1<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph2<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>len(graph1.assets)<sp/>==<sp/>len(graph2.assets)</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366" refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility_1a1fabc15aae6f058b58a9db1412c5148d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestSampleDataReproducibility_1a1fabc15aae6f058b58a9db1412c5148d" kindref="member">test_multiple_calls_produce_same_asset_ids</ref>():</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>multiple<sp/>calls<sp/>produce<sp/>same<sp/>asset<sp/>IDs.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph1<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph2<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ids1<sp/>=<sp/>set(graph1.assets.keys())</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ids2<sp/>=<sp/>set(graph2.assets.keys())</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>ids1<sp/>==<sp/>ids2,<sp/></highlight><highlight class="stringliteral">&quot;Sample<sp/>database<sp/>should<sp/>produce<sp/>consistent<sp/>asset<sp/>IDs&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377" refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases" kindref="compound">TestEdgeCases</ref>:</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>edge<sp/>cases<sp/>in<sp/>sample<sp/>data<sp/>generation.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381" refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases_1a18a77a8b99aba3d9ba378f85b44a0a29" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases_1a18a77a8b99aba3d9ba378f85b44a0a29" kindref="member">test_sample_database_handles_metrics_calculation</ref>():</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>can<sp/>calculate<sp/>metrics<sp/>without<sp/>error.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Should<sp/>not<sp/>raise<sp/>any<sp/>exceptions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>metrics<sp/>=<sp/>graph.calculate_metrics()</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>metrics<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390" refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases_1ab5dda183be68217f6d1bc7babd6aaf03" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtests_1_1unit_1_1test__sample__data_1_1TestEdgeCases_1ab5dda183be68217f6d1bc7babd6aaf03" kindref="member">test_sample_database_can_be_serialized</ref>():</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Test<sp/>that<sp/>sample<sp/>database<sp/>structure<sp/>supports<sp/>serialization.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>graph<sp/>=<sp/>create_sample_database()</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Verify<sp/>all<sp/>assets<sp/>have<sp/>serializable<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>asset<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>graph.assets.values():</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(asset,<sp/></highlight><highlight class="stringliteral">&quot;id&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(asset,<sp/></highlight><highlight class="stringliteral">&quot;symbol&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(asset,<sp/></highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>hasattr(asset,<sp/></highlight><highlight class="stringliteral">&quot;price&quot;</highlight><highlight class="normal">)</highlight></codeline>
    </programlisting>
    <location file="/app/doc_state/github_reposRepoArchDocGenContext/DashFin-FarDb/financial-asset-relationship-db/tests/unit/test_sample_data.py"/>
  </compounddef>
</doxygen>
